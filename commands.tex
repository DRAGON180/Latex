% در این فایل، دستورها و تنظیمات مورد نیاز، آورده شده است.
%-------------------------------------------------------------------------------------------------------------------


%برای استفاده از پانویس در قمست‌ها نیاز به بسته زیر داریم

% در ورژن جدید زی‌پرشین برای تایپ متن‌های ریاضی، این سه بسته، حتماً باید فراخوانی شود
\usepackage{amsthm,amssymb,amsmath}
\usepackage{blindtext}
% بسته‌ای برای تنطیم حاشیه‌های بالا، پایین، چپ و راست صفحه
\usepackage[top=30mm, bottom=30mm, left=20mm, right=30mm]{geometry}
%\usepackage[body={6.3in,9.08in}]{geometry}
% بسته‌‌ای برای ظاهر شدن شکل‌ها و تصاویر متن
%%%%تنظیم وسط چینی ستون ها
%\usepackage{array}
\usepackage{graphicx}
% بسته‌ای برای رسم کادر
\usepackage{framed} 
% بسته‌‌ای برای چاپ شدن خودکار تعداد صفحات در صفحه «معرفی پایان‌نامه»
\usepackage{lastpage}
% بسته‌ و دستوراتی برای ایجاد لینک‌های رنگی با امکان جهش
%\usepackage[pagebackref=false,colorlinks,linkcolor=blue,citecolor=blue]{hyperref}
% چنانچه قصد پرینت گرفتن نوشته خود را دارید، خط بالا را غیرفعال و  از دستور زیر استفاده کنید چون در صورت استفاده از دستور زیر‌‌، 
% لینک‌ها به رنگ سیاه ظاهر خواهند شد که برای پرینت گرفتن، مناسب‌تر است
\usepackage[hidelinks]{hyperref}
%بسته رسم نمودار
\usepackage{pgfplots}
% بسته‌ لازم برای تنظیم سربرگ‌ها
\usepackage{fancyhdr}
%
\usepackage{setspace}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{subfigure}
\usepackage[subfigure]{tocloft}
%%%بسته ورود سورس کد 
\usepackage[T1]{fontenc}
\usepackage{inconsolata}

\usepackage{color}

\definecolor{pblue}{rgb}{0.13,0.13,1}
\definecolor{pgreen}{rgb}{0,0.5,0}
\definecolor{pred}{rgb}{0.9,0,0}
\definecolor{pgrey}{rgb}{0.46,0.45,0.48}

\usepackage{listings}


% بسته‌ای برای ظاهر شدن «مراجع» و «نمایه» در فهرست مطالب
%\usepackage[nottoc]{tocbibind}
% دستورات مربوط به ایجاد نمایه
\usepackage{makeidx}
\makeindex
\usepackage[font=footnotesize,justification=centering]{caption}
%\usepackage[nolot,nolof]{tocbibind}
%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{newfloat}

% فراخوانی بسته زی‌پرشین و تعریف قلم فارسی و انگلیسی
\usepackage[localise,extrafootnotefeatures]{xepersian}
%فونت لوتوس Lotus یا BLotus علاوه بر مشخص نبودن نوع مجوز آن‌ها، قدیمی و پر از عیب و ایراد هستند. به همین دلیل از فونت آزاد HM FLotoos استفاده می‌کنیم
\settextfont[Scale=1.1]{HM FLotoos}%HM FLotoos
\usepackage{bidiftnxtra}
%مجوز فونت Times New Roman شدیدا انحصاری و فقط در اختیار تولید کننده آن است. به همین دلیل از فونت مشابه و آزاد آن Liberation sans استفاده می‌کنیم
\setlatintextfont[Scale=1]{Liberation Serif}%Liberation Serif

%%%%%%%%%%%%%%%%%%%%%%%%%%
% چنانچه می‌خواهید اعداد در فرمول‌ها، انگلیسی باشد، خط زیر را غیرفعال کنید
\setdigitfont[Scale=1.1]{HM FLotoos}%{Persian Modern}
%%%%%%%%%%%%%%%%%%%%%%%%%%
% تعریف قلم‌های فارسی و انگلیسی اضافی برای استفاده در بعضی از قسمت‌های متن
\defpersianfont\titlefont[Scale=1]{HM FLotoos}%HM FLotoos
% \defpersianfont\iranic[Scale=1.1]{XB Zar Oblique}%Italic}%
% \defpersianfont\nastaliq[Scale=1.2]{IranNastaliq}

%%%%%%%%%%%%%%%%%%%%%%%%%%
% دستوری برای حذف کلمه «چکیده»
\renewcommand{\abstractname}{}
% دستوری برای حذف کلمه «abstract»
%\renewcommand{\latinabstract}{}
% دستوری برای تغییر نام کلمه «اثبات» به «برهان»
\renewcommand\proofname{\textbf{برهان}}
% دستوری برای تغییر نام کلمه «کتاب‌نامه» به «مراجع»
\renewcommand{\bibname}{مراجع}
% دستوری برای تعریف واژه‌نامه انگلیسی به فارسی
\newcommand\persiangloss[2]{#1\dotfill\lr{#2}\\}
% دستوری برای تعریف واژه‌نامه فارسی به انگلیسی 
\newcommand\englishgloss[2]{#2\dotfill\lr{#1}\\}
% تعریف دستور جدید «\پ» برای خلاصه‌نویسی جهت نوشتن عبارت «پروژه/پایان‌نامه/رساله»
\newcommand{\پ}{پروژه/پایان‌نامه/رساله }

%دستوری برای نوشتن با سایز ۱۴ و بولد
\newcommand{\bfLarge}{\Large\textbf}
%\newcommand\BackSlash{\char`\\}

%%%%%%%%%%%%%%%%%%%%%%%%%%



% تعریف و نحوه ظاهر شدن عنوان قضیه‌ها، تعریف‌ها، مثال‌ها و ...
\theoremstyle{definition}
\newtheorem{definition}{تعریف}[section]
\theoremstyle{theorem}
\newtheorem{theorem}[definition]{قضیه}
\newtheorem{lemma}[definition]{لم}
\newtheorem{proposition}[definition]{گزاره}
\newtheorem{corollary}[definition]{نتیجه}
\newtheorem{remark}[definition]{ملاحظه}
\theoremstyle{definition}
\newtheorem{example}[definition]{مثال}

%\renewcommand{\theequation}{\thechapter-\arabic{equation}}
%\def\bibname{مراجع}
\numberwithin{algorithm}{chapter}
\def\listalgorithmname{فهرست الگوریتم‌ها}
\def\listfigurename{فهرست تصاویر}
\def\listtablename{فهرست جداول}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% دستورهایی برای سفارشی کردن سربرگ صفحات
% \newcommand{\SetHeader}{
% \csname@twosidetrue\endcsname
% \pagestyle{fancy}
% \fancyhf{} 
% \fancyhead[OL,EL]{\thepage}
% \fancyhead[OR]{\small\rightmark}
% \fancyhead[ER]{\small\leftmark}
% \renewcommand{\chaptermark}[1]{%
% \markboth{\thechapter-\ #1}{}}
% }
%%%%%%%%%%%%5
%\def\MATtextbaseline{1.5}
%\renewcommand{\baselinestretch}{\MATtextbaseline}
\doublespacing
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%وسط چین کردن اسم فصل ها در فهرست
% دستوراتی برای اضافه کردن کلمه «فصل» در فهرست مطالب

\newlength\mylenprt
\newlength\mylenchp
\newlength\mylenapp

\renewcommand\cftpartpresnum{\partname~}
\renewcommand\cftchappresnum{\chaptername~}
\renewcommand\cftchapaftersnum{:}

\settowidth\mylenprt{\cftpartfont\cftpartpresnum\cftpartaftersnum}
\settowidth\mylenchp{\cftchapfont\cftchappresnum\cftchapaftersnum}
\settowidth\mylenapp{\cftchapfont\appendixname~\cftchapaftersnum}
\addtolength\mylenprt{\cftpartnumwidth}
\addtolength\mylenchp{\cftchapnumwidth}
\addtolength\mylenapp{\cftchapnumwidth}

\setlength\cftpartnumwidth{\mylenprt}
\setlength\cftchapnumwidth{\mylenchp}	

\makeatletter
{\def\thebibliography#1{\chapter*{\refname\@mkboth
   {\uppercase{\refname}}{\uppercase{\refname}}}\list
   {[\arabic{enumi}]}{\settowidth\labelwidth{[#1]}
   \rightmargin\labelwidth
   \advance\rightmargin\labelsep
   \advance\rightmargin\bibindent
   \itemindent -\bibindent
   \listparindent \itemindent
   \parsep \z@
   \usecounter{enumi}}
   \def\newblock{}
   \sloppy
   \sfcode`\.=1000\relax}}
\makeatother


%%%ساخت فهرست نمودارها





%تنظیم هدر و فوتر 
\fancypagestyle{foot2}{
\fancyhead{}
\fancyfoot[c]{\thepage}
\renewcommand{\headrulewidth}{0pt}
}
\pagestyle{foot2}

% تنظیم فایل سرفصل
\usepackage{titlesec}
 \titleformat{\chapter}[display]
{\vspace{-3cm}\vfill\filcenter}
{{%
   \vspace{-3cm}\filcenter\fontsize{48pt}{48pt}\selectfont{\chaptername}
   \fontsize{48pt}{48pt}\selectfont\thechapter%
 }%
}
{50pt}
{\fontsize{30pt}{30pt}\selectfont%
}[\vfill \thispagestyle{empty}\clearpage]
\titlespacing*{\chapter}{0pt}{0pt}{0pt}

%%%%%%وسط‌چین کردن فصل‌ها در فهرست مطالب
\usepackage{blindtext}
\makeatletter
\renewcommand*\l@chapter[2]{%
  \ifnum \c@tocdepth >\z@
    \addpenalty\@secpenalty
    \addvspace{1.0em \@plus\p@}%
    \setlength\@tempdima{1.8em}%
    \begingroup
      \parindent \z@ \rightskip \@pnumwidth
      \parfillskip -\@pnumwidth
      \leavevmode \bfseries
      \advance\leftskip\@tempdima
      \hskip -\leftskip
      \hfil#1\nobreak\hfil \nobreak\hb@xt@\@pnumwidth{}\par
    \endgroup
  \fi}
\makeatother
%%%%%%%تعریف لیست نمودارها

\SepMark{-}
\DeclareCaptionType{curve}[نمودار][فهرست نمودارها]

\makeatletter
\def\@seccntformat#1{\csname the#1\endcsname\@SepMark\quad}

\renewcommand{\cftsecaftersnum}{\@SepMark}%
\renewcommand{\cftsubsecaftersnum}{\@SepMark}%
\renewcommand{\cftsubsubsecaftersnum}{\@SepMark}%

\renewcommand*\l@section{\@dottedtocline{1}{2.5em}{2.3em}}
\renewcommand*\l@subsection{\@dottedtocline{2}{3.5em}{3.5em}} 
\renewcommand*\l@subsubsection{\@dottedtocline{3}{4.8em}{4.8em}} 

\setlength{\cftfignumwidth}{12mm}
\setlength{\cfttabnumwidth}{12mm}

\makeatother

\DeclareCaptionLabelSeparator{colon}{\ } 
\captionsetup{belowskip=20pt,aboveskip=10pt}

